 configure.ac |   42 ++++++++++++++++++++++++++----------------
 1 files changed, 26 insertions(+), 16 deletions(-)

diff --git a/configure.ac b/configure.ac
index 229ab88..1d1dc33 100644
--- a/configure.ac
+++ b/configure.ac
@@ -63,7 +63,7 @@ GLIB_REQUIRED_VERSION=2.18.2
 GTK_REQUIRED_VERSION=2.10.0
 LIBGLADE_REQUIRED_VERSION=1.99.2
 GCONF_REQUIRED_VERSION=2.6.1
-PA_REQUIRED_VERSION=0.9.12 # FIXME remove extra checks below when we have PA 0.9.15
+PA_REQUIRED_VERSION=0.9.15
 CANBERRA_REQUIRED_VERSION=0.4
 
 PKG_CHECK_MODULES(MEDIA, [
@@ -86,23 +86,32 @@ dnl=======================================================================
 dnl Check for libcanberra
 dnl=======================================================================
 
-PKG_CHECK_MODULES(SOUND_THEME,
-        gobject-2.0 >= $GLIB_REQUIRED_VERSION
-        gtk+-2.0 >= $GTK_REQUIRED_VERSION
-        gio-2.0
-        gconf-2.0 >= $GCONF_REQUIRED_VERSION
-        libcanberra-gtk >= $CANBERRA_REQUIRED_VERSION
-        libxml-2.0,
-        have_soundtheme=yes,
-        have_soundtheme=no)
-
-if test "x$have_soundtheme" = "xyes" ; then
-  AC_DEFINE(HAVE_SOUND_THEME, [], [Define if we can build sound theme])
+AC_ARG_ENABLE([canberra],
+	AC_HELP_STRING([--disable-canberra], [Disable canberra support @<:@default=yes@:>@]),
+	[enable_canberra="$enableval"], [enable_canberra="yes"])
+
+have_soundtheme="no"
+if test "x$enable_canberra" = "xyes"; then
+
+   	PKG_CHECK_MODULES(SOUND_THEME,
+		gobject-2.0 >= $GLIB_REQUIRED_VERSION
+        	gtk+-2.0 >= $GTK_REQUIRED_VERSION
+        	gio-2.0
+        	gconf-2.0 >= $GCONF_REQUIRED_VERSION
+        	libcanberra-gtk >= $CANBERRA_REQUIRED_VERSION
+        	libxml-2.0,
+        	have_soundtheme=yes,
+        	have_soundtheme=no)
+
+	if test "x$have_soundtheme" = "xyes" ; then
+  	   AC_DEFINE(HAVE_SOUND_THEME, [], [Define if we can build sound theme])
+	fi
+
+	AC_SUBST(HAVE_SOUND_THEME)
+	AC_SUBST(SOUNDTHEME_CFLAGS)
+	AC_SUBST(SOUNDTHEME_LIBS)
 fi
 AM_CONDITIONAL(HAVE_SOUND_THEME, test x$have_soundtheme = xyes)
-AC_SUBST(HAVE_SOUND_THEME)
-AC_SUBST(SOUNDTHEME_CFLAGS)
-AC_SUBST(SOUNDTHEME_LIBS)
 
 dnl=======================================================================
 dnl Check for the new volume control modules
@@ -761,6 +770,7 @@ echo "
         GStreamer properties:   $have_gstprops
         GStreamer profiles:     $have_profiles
         Sound recorder:         $have_grecord$grecord_reason
+	Sound Theme		$have_soundtheme
 
   *Deprecated*:
 
