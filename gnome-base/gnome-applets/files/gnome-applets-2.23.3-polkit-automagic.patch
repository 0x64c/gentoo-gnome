diff -Naur gnome-applets-2.23.3/configure.in gnome-applets-2.23.3.new/configure.in
--- gnome-applets-2.23.3/configure.in	2008-06-16 13:37:23.000000000 +0530
+++ gnome-applets-2.23.3.new/configure.in	2008-08-09 11:32:30.000000000 +0530
@@ -227,7 +227,16 @@
 dnl -- check for PolicyKit and PolicyKit-gnome (optional) -----------------------------------------
 POLKIT_CFLAGS=
 POLKIT_LIBS=
-PKG_CHECK_MODULES(POLKIT, polkit >= $POLKIT_REQUIRED polkit-dbus >= $POLKIT_REQUIRED dbus-glib-1 >= $DBUS_GLIB_REQUIRED, HAVE_POLKIT=yes, HAVE_POLKIT=no)
+AC_ARG_ENABLE([polkit],
+    AC_HELP_STRING([--enable-polkit], [Enable PolicyKit support (default auto)]),
+    enable_polkit=$enableval,
+    enable_polkit=auto)
+if test "x$enable_polkit" != "xno"; then
+    PKG_CHECK_MODULES(POLKIT, polkit >= $POLKIT_REQUIRED polkit-dbus >= $POLKIT_REQUIRED dbus-glib-1 >= $DBUS_GLIB_REQUIRED, HAVE_POLKIT=yes, HAVE_POLKIT=no)
+    if test "x$enable_polkit" = "xyes" -a "x$HAVE_POLKIT" = "xno"; then
+        AC_MSG_ERROR([PolicyKit support explicitly requested but dependencies not found])
+    fi
+fi
 if test "x$HAVE_POLKIT" = "xyes"; then
     AC_DEFINE(HAVE_POLKIT, [1], [PolicyKit available])
 fi
@@ -237,7 +246,13 @@
 
 POLKIT_GNOME_CFLAGS=
 POLKIT_GNOME_LIBS=
-PKG_CHECK_MODULES(POLKIT_GNOME, polkit-gnome >= $POLKIT_REQUIRED, polkit_gnome=yes, polkit_gnome=no)
+polkit_gnome=no
+if test "x$enable_polkit" != "xno"; then
+    PKG_CHECK_MODULES(POLKIT_GNOME, polkit-gnome >= $POLKIT_REQUIRED, polkit_gnome=yes, polkit_gnome=no)
+    if test "x$enable_polkit" = "xyes" -a "x$polkit_gnome" = "xno"; then
+        AC_MSG_ERROR([PolicyKit-gnome support explicitly requested but dependencies not found])
+    fi
+fi
 if test "x$polkit_gnome" = "xyes"; then
     AC_DEFINE(HAVE_POLKIT_GNOME, [1], [PolicyKit-gnome available])
 fi
